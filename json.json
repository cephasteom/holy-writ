{"hw-1":"let kick = s0\nlet clap = s1\nlet breaks = s3\nlet sub = s4\nlet lb = s5\nlet glitch1 = s6\nlet glitch2 = s7\nlet noise1 = s8\nlet noise2 = s9\n\nlet pbs = $qpbs().fn(a => a.filter(p=>p>0.02))\n\nz.bpm.toggle(kick.e).if(140,105)\nz.set({dist:0.25,cutr:ms(1/8)})\nz.q=12\n\nqubits.slice(0,6).map((qubit,i,arr) => {\n  const isLast = i === arr.length - 1\n  const position = i%2 ? 2 : 0\n  const entangle = isLast ? 0 : i+1\n  qubit\n    .fb(i)\n    .rx($noise())\n    .ry($saw(0.2,0.4,1/4), position)\n    .cx(entangle, isLast ? 1 : 0)\n});\n\n// all streams\nstreams.slice(0,10).map(st => {\n  st.x.set(1/16 * st.i);\n  st.y.set(pbs).at(st.i).mul(10);\n  st.m.every(1)\n});\n\n// streams triggered by circuit\n[kick,glitch1,glitch2].map((st,i) => {\n  st.e.qm(i)\n    .degrade('0.5|*7 0.25')\n    .cache(z.q,3/(i+1))\n});\n\n// streams toggle between samp and grains\n[breaks,glitch1,glitch2,noise1,noise2].map(st => {\n  st.set({inst:'1?2*16|*4'})\n  st.p.rate.set(st.p.inst).eq(1)\n    .if(1,$set(st.y).mtr(0.5,2).step(0.25))\n    .mul($set(st.y).gt(0.5).if(-1,1))\n})\n\nkick.set({\n  inst:1,ba:'bd808',i:9,hc:0.75, vol: 2,\n  cut:[breaks.i,glitch1.i,glitch2.i,noise2.i,sub.i,lb.i]\n})\nkick.e.set('3:8')\n  .degrade('0 0.3*15 | 0.3 0*15')\n  .and($not(clap.e))\n  .and($not(lb.e))\n\nclap.set({inst:1,bank:'clap',cut:[noise1.i,noise2.i,sub.i,lb.i,breaks.i]})\nclap.p.i.set([0,5]).at($set(clap.y).mul(2).step(1))\nclap.e.set('0 0 0 0 0 0 1 0 | 0')\n\nbreaks.set({ba:'breaks.archn',snap:z.q,vol:1,a:ms(4),acurve:0.75,oneshot:1,s:0.25})\nbreaks.p.begin.set(breaks.y).step(0.125).subr(1)\nbreaks.p.i.set(breaks.y).mul(16).step(1)\nbreaks.e.set(kick.e)\n  .and($every(2))\n  .and($not(lb.e))\n\nsub.set({inst: 6, n:36, dur:ms(1.5)})\nsub.p.acurve.saw(0.75,0.5,1/8)\nsub.p.lfodepth.set(sub.y).saw(1,0.5)\nsub.p.a.set(sub.y).saw(1.5,3).step(0.5).btms()\nsub.p.lforate.set(kick.y).saw(1.75,7).step(1.75)\nsub.e.set(kick.e)\n  .and($not(lb.e))\n\nlb.set({\n  inst: 1, dist: 0,\n  bank: 'lb02', dur:ms(4), \n  cut: [0,1,2,3,4,5,6,7,8]\n})\nlb.p.i.random(0,8).step(1)\nlb.e.set(clap.e)  \n\nglitch1.set({\n  bank:'gm.glitch.4b', snap:z.q*2, oneshot:1, \n  i:12, vol: 1.75, d:ms(1), s:0.5,\n  cut:[breaks.i,glitch1.i,glitch2.i,noise2.i], \n})\nglitch1.p.begin.saw(0,1).step(0.125)\nglitch1.p._pan.noise(0.25,0.5)\nglitch1.p.fx0.set(glitch1.y)\nglitch1.e\n  .and($not(kick.e))\n  .and($not(lb.e))\n  .and($odd())\n\nglitch2.set({\n  bank:'gm.glitch.2b', snap:z.q, oneshot:1, \n  cut:[glitch1.i,glitch2.i,clap.i,sub.i],\n  i: 2, d:ms(1),vol: 1.75,s:0.5\n})\nglitch2.p.begin.saw(0,1).step(0.125)\nglitch2.p._pan.set(glitch1.p._pan).subr(1)\nglitch2.p.fx0.set(glitch2.y)\nglitch2.e\n  .and($not(glitch1.e))\n  .and($not(lb.e))\n  .and($even())\n\nnoise1.set({bank:'gm.radio',oneshot:1,a:ms(4),acurve:0.75,i:'8..11?*16', lc:0.5})\nnoise1.p.begin.saw(0,1).step(0.125)\nnoise1.p._pan.noise(0.2,0.5)\nnoise1.p.fx0.set(noise1.y).mul(0.5)\nnoise1.e.set(glitch2.e)\n  .and($not(lb.e))\n\nnoise2.set({bank:'gm.radio',oneshot:1,a:ms(2),acurve:0.75,i:5, lc:0.5, vol:1.5})\nnoise2.p.begin.noise(0,1,1/16).step(0.125)\nnoise2.p._pan.set(noise1.p._pan).subr(1)\nnoise2.p.fx0.set(noise2.y).mul(0.5)\nnoise2.e\n  .set(glitch1.e)\n  .and($not(lb.e))\n\nfx0.set({dfb:0.8,lc:0.25,_track:10})\nfx0.p.delay.toggle(kick.e).mul(0.75)\nfx0.p.reverb.toggle(kick.e).subr(1).mul(0.5)\nfx0.p.dtime.set(kick.y).mtr(1/16,12/16).step(1/16)\nfx0.p.rtail.toggle(clap.e).mtr(0.1,0.5)\nfx0.e.every(1)\n\n// kick.e.set(0)\n// sub.e.set(0)\nclap.e.set(0)\nbreaks.e.set(0)\nglitch1.e.set(0)\nglitch2.e.set(0)\nnoise1.e.set(0)\nnoise2.e.set(0)\nlb.e.set(0)\n\n// kick.mute.set('1?0*16')\n// clap.solo.set(0)\n// breaks.mute.set('1?0*16')\n// glitch1.mute.set('1?0*16')\n// glitch2.mute.set('1?0*16')\n// fx0.mute.set(1)","hw-2":"d.fetch('https://zendata.cephasteom.co.uk/api/book/7', 'holywrit')\n\n// console.log(d.holywrit)\n\nlet kick = s0\nlet clap = s1\nlet hh = s2\nlet breaks = s3\nlet sub = s4\nlet lb = s5\nlet glitch1 = s6\nlet glitch2 = s7\nlet noise1 = s8\nlet noise2 = s9\n\nz.bpm.toggle(kick.e).if(180,140)\nz.set({dist:0.25})\nz.q=16\n\n// circuit\nlet loop = Math.floor(z.q*2)\n\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.fb(3).ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.fb(0).ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.fb(1).ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.fb(2).ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i).mod(1)\n  s.y.qpb(i).mod(1)\n    .mul(10)\n  s.e.qm(i%6)\n    .degrade('0.5|*3 0.75|*3')\n    .cache(loop,2)\n  s.m.not(s.e)\n});\n\n// streams triggered by circuit\n[kick,glitch1,glitch2,noise1,noise2].map((st,i) => {\n  st.e.qm(i)\n    .degrade('0.75|*7 0.25')\n    .cache(z.q,3/(i+1))\n});\n\n// streams toggle between samp and grains\n[breaks,glitch1,noise1,noise2,hh].map(st => {\n  st.set({inst:'1?2*16|*4'})\n  st.p.rate.set(st.p.inst).eq(1)\n    .if(1,$set(st.y).mtr(0.75,1).step(0.25))\n})\n\nkick.set({\n  inst:1,ba:'kick.808',i:9,vol: 1.75,n:57,\n  cut:[breaks.i,glitch1.i,glitch2.i,noise2.i,sub.i,lb.i],\n})\nkick.e\n  .set('3:8')\n  .degrade('0 0.3*15 | 0.3 0*15')\n  .and($not(clap.e))\n  .and($not(lb.e))\n\nclap.set({inst:1,bank:'claps.rare',cut:[noise1.i,noise2.i,sub.i,glitch2.i,hh.i],cutr:20})\nclap.p.i.set(clap.x).saw(2,12).step(3)\nclap.p.fx0.set(clap.y).mul(0.25)\nclap.e.set('0 0 1 0 0 0 0 0 |*3 0')\n\nhh.set({bank:'breaks.tech', snap:z.q, lc:0.5, i: 1, dur:ms(4), vol:0.75,\n  a:ms(0.25), acurve:0.75,\n})\nhh.e.reset().set(kick.e)\n\nbreaks.set({ba:'breaks.90.4b',snap:z.q,vol:1,a:ms(1),acurve:0.75,oneshot:1,s:0.5,fx0:0.25})\nbreaks.p.begin.set(breaks.y).step(0.125).subr(1)\nbreaks.p.i.set(breaks.x).mul(16).step(1)\nbreaks.e.set(kick.e)\n  .and($every(1))\n  .and($not(lb.e))\n\nsub.set({inst: 7, n:'36', dur:ms(1.5),\n  op2ratio:3,op2gain:0.125,\n  op3ratio:11,op3gain:0.25\n})\nsub.p.acurve.saw(0.75,0.5,1/8)\nsub.p.a.set(sub.y).saw(1.5,3).step(0.5).btms()\nsub.p.op2a.set(sub.p.a).mul(2)\nsub.p.op3a.set(sub.p.a).mul(2)\nsub.e.set(kick.e)\n  .and($not(lb.e))\n\nlb.set({\n  inst: 1, dist: 0,\n  bank: 'lb02', dur:ms(4), \n  cut: [0,1,2,3,4,5,6,7,8],\n})\nlb.p.i.set(lb.y).mul(16).step(3).add('1?2?3*16|*4')\nlb.e.reset().set(clap.e)\n\nglitch1.set({\n  bank:'pack.jviews', snap:z.q*2, oneshot:1, \n  i:12, vol: 1.75, d:ms(1), s:0.5,\n  cut:[breaks.i,glitch1.i,glitch2.i,noise2.i], \n})\nglitch1.p.begin.saw(0,1).step(0.125)\nglitch1.p._pan.noise(0.25,0.5)\nglitch1.p.fx0.set(glitch1.y)\nglitch1.e\n  .and($not(kick.e))\n  .and($not(lb.e))\n  .and($odd())\n\nglitch2.set({\n  bank:'breaks.145', snap:z.q, oneshot:1, \n  cut:[glitch1.i,glitch2.i,clap.i,sub.i],\n  i: 2, d:ms(1),vol:1.75,s:0.5,lag:ms(4),\n  delay:0.5,dtime:ms(1/6)\n})\nglitch2.p.dfb.toggle(clap.e).mul(0.8)\nglitch2.p.begin.set(glitch2.y).step(0.125)\nglitch2.p._pan.set(glitch1.p._pan).subr(1)\nglitch2.p.fx0.set(glitch2.x)\nglitch2.p._n.square(60,72,1/4)\nglitch2.e\n  .and($not(glitch1.e))\n  .and($not(lb.e))\n  .and($even())\n\nnoise1.set({bank:'gm.horror|*3 gm.radio',oneshot:1,a:ms(4),acurve:0.75,i:'0..32?*16', lc:0.35})\nnoise1.p.begin.saw(0,1).step(0.125)\nnoise1.p._pan.noise(0.2,0.5)\nnoise1.p.fx0.set(noise1.y).mul(0.5)\nnoise1.e\n  // .set(glitch2.e)\n  .and($not(lb.e))\n\nnoise2.set({bank:'gm.radio gm.horror',oneshot:1,a:ms(2),acurve:0.75,i:5, lc:0.3, vol:1.5})\nnoise2.p.i.set('1 |*3 0').if(5, $random(0,32).step(1))\nnoise2.p.begin.noise(0,1,1/16).step(0.125)\nnoise2.p._pan.set(noise1.p._pan).subr(1)\nnoise2.p.fx0.set(noise2.y).mul(0.5)\nnoise2.e\n  // .set(glitch1.e)\n  .and($not(lb.e))\n\nfx0.set({dfb:0.7,lc:0.25,_track:9,dist:0.5})\nfx0.p.delay.toggle(kick.e).mul(0.75)\nfx0.p.reverb.toggle(kick.e).subr(1).mul(0.5)\n    // .mul($saw(0.5,1,1/64))\nfx0.p._dtime.set(kick.y).mtr(1/16,1/4).step(1/16).btms()\nfx0.p.rtail.toggle(clap.e).mtr(0.1,0.5).mul($saw(0.75,1,1/64))\nfx0.p.drive.saw(0,0.75,1/64)\nfx0.e.every(1)\nfx0.m.every(1)\n\n// kick.e.set(0)\n// sub.e.set(0)\n// clap.e.set(0)\nhh.e.set(0)\n// breaks.e.set(0)\n// glitch1.e.set(0)\n// glitch2.e.set(0)\n// noise1.e.set(0)\n// noise2.e.set(0)\n// lb.e.set(0)\n\nkick.mute.set('1?0*16')\nclap.mute.set('1?0*16')\nbreaks.mute.set('1?0*16')\nglitch1.mute.set('1?0*16')\nglitch2.mute.set('1?0*16')\nnoise1.mute.set('1?0*16')\nnoise2.mute.set('1?0*16')\n// fx0.mute.set('1?0*16')","hw-3":"// d.fetch('https://zendata.cephasteom.co.uk/api/book/7', 'holywrit')\n\nlet kick = s0\nlet clap = s1\nlet hh = s2\nlet breaks = s3\nlet sub = s4\nlet lb = s5\nlet glitch1 = s6\nlet glitch2 = s7\nlet noise1 = s8\nlet noise2 = s9\n\nz.bpm.toggle(kick.e).if(200,100)\n// z.bpm.set(140)\nz.set({dist:0.5})\nz.q=16\n\nlet loop = Math.floor(z.q*2)\n\n// circuit\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.fb(3).ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.fb(0).ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.fb(1).ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.fb(2).ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i)\n  s.y.qpb(i)\n    .mul(1)\n  s.e.qm(i%6)\n    .degrade(0.5)\n    .cache(loop,2)\n  s.m.not(s.e)\n});\n\n// streams toggle between samp and grains\n[glitch1,glitch2,noise1,noise2].map(st => {\n  st.set({inst:'1?2*16|*4'})\n  st.p.rate.set(st.p.inst).eq(1)\n    .if(1,$set(st.y).mtr(1,2).step(0.25))\n})\n\nkick.set({\n  inst:1,ba:'kick.808',i:9,vol: 1.75,n:57,\n  cut:[glitch1.i,glitch2.i,noise2.i,sub.i,lb.i],\n})\nkick.e\n  .set('3:8')\n  .degrade('0 0.3*15 | 0.3 0*15')\n  .and($not(clap.e))\n\nclap.set({inst:1,bank:'clap808',cut:[noise1.i,noise2.i,sub.i,glitch2.i,lb.i,hh.i]})\nclap.p.i.set(clap.x).saw(2,12).step(2)\nclap.p.fx0.set(clap.y).mul(0.25)\nclap.e.set('0 0 1 0 0 0 0 0 |*3 0')\n\nhh.set({inst:1, bank:'breaks.tech', snap:z.q, lc:0.5, i: 2, dur:ms(4)})\nhh.p.begin.saw(0,1,1/2).step(0.125)\nhh.e.reset().set(kick.e)\n\nbreaks.set({inst:1,ba:'gm.glitch.2b',snap:z.q,vol:1.5,\n  a:ms(2),acurve:0.75,\n  s:0.5,fx0:0.25,dur:ms(4),lc:0.3\n})\nbreaks.p.begin.set(breaks.y).mtr(0,0.5).step(0.125)\nbreaks.p.i.set(breaks.x).mul(16).step(1)\nbreaks.e.set(kick.e)\n  \nglitch1.set({\n  bank:'tune.01', snap:z.q*4, oneshot:1, \n  i:'0?8?9*8|*4', vol: 1.5, d:ms(1), dist: 0,\n  cut:[glitch1.i,glitch2.i,noise2.i], \n  a:ms(1),\n  acurve:0.75\n})\nglitch1.p.begin.saw(0,1,1/8)\nglitch1.p._pan.noise(0.25,0.5)\nglitch1.p.fx0.set(glitch1.y).mul(0.1)\nglitch1.e\n  .and($not(kick.e))\n\nglitch2.set({\n  bank:'pack.jviews', snap:z.q, \n  cut:[glitch1.i,glitch2.i,clap.i,sub.i],\n  d:ms(1),vol:1,s:0.25,lag:ms(4),\n  delay:0.5,dtime:ms(1/6)\n})\nglitch2.p.dfb.toggle(clap.e).mul(0.8)\nglitch2.p.i.noise(0,16).step(1)\nglitch2.p.begin.set(glitch2.y).step(0.125)\nglitch2.p._pan.set(glitch1.p._pan).subr(1)\nglitch2.p.fx0.set(glitch2.x).mul(0.1)\nglitch2.p._n.square(60,72,1/4)\nglitch2.e.set(glitch1.e)\n  .and('1*16|*4 0|*3')\n\nnoise1.set({bank:'gm.horror|*3 gm.radio',oneshot:1,a:ms(4),acurve:0.75,i:'0..32?*16', lc:0.5})\nnoise1.p.begin.saw(0,1).step(0.125)\nnoise1.p._pan.noise(0.2,0.5)\nnoise1.p.fx0.set(noise1.y).mul(0.5)\nnoise1.e.set(clap.e)\n\nnoise2.set({bank:'gm.radio gm.horror',oneshot:1,a:ms(2),acurve:0.75,i:5, lc:0.5, vol:1.5})\nnoise2.p.i.set('1 |*3 0').if(5, $random(0,32).step(1))\nnoise2.p.begin.noise(0,1,1/16).step(0.125)\nnoise2.p._pan.set(noise1.p._pan).subr(1)\nnoise2.p.fx0.set(noise2.y).mul(0.5)\nnoise2.e\n  .set(glitch1.e)\n  .and($not(lb.e))\n\nlb.set({\n  inst: 1, dist: 0,\n  bank: 'tune.01', dur:ms(4), \n  snap: z.q * 4,\n  cut: [0,1,2,3,4,5,6,7,8],\n  i: '3?4?5?7?2*16|*4',\n  vol: 1.5,\n  acurve:0.75\n})\nlb.p.begin.saw(0,1,1/8)\nlb.e.reset().set(kick.e)\nlb.m.reset()\n\nfx0.set({dfb:0.7,lc:0.25,_track:10,dist:0})\nfx0.p.delay.toggle(kick.e).mul(0.25)\nfx0.p.reverb.toggle(kick.e).subr(1).mul(0.5)\n    .mul($saw(0.5,1,1/64))\nfx0.p._dtime.set(kick.x).mtr(1/16,1/4).step(1/16).btms()\nfx0.p.rtail.toggle(clap.e).mtr(0.1,0.5).mul($saw(0.75,1,1/64))\nfx0.p.drive.saw(0,0.75,1/64)\nfx0.e.every(1)\nfx0.m.every(1)\n\n// kick.e.set(0)\nclap.e.set(0)\n// hh.e.set(0)\nbreaks.e.set(0)\nglitch1.e.set(0)\nglitch2.e.set(0)\nnoise1.e.set(0)\nnoise2.e.set(0)\nlb.e.set(0)\n\n// kick.mute.set('1?0*16')\n// clap.mute.set('1?0*16')\n// breaks.mute.set('1?0*16')\n// glitch1.mute.set('1?0*16')\n// glitch2.mute.set('1?0*16')\n// noise1.mute.set('1?0*16')\n// noise2.mute.set('1?0*16')\n// fx0.mute.set('1?0*16')","hw-4":"// d.fetch('https://zendata.cephasteom.co.uk/api/book/7', 'holywrit')\nz.set({dist:0.35})\nz.q=16\n\nlet loop = Math.floor(z.q*0.75)\n\n// circuit\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.fb(3).ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.fb(0).ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.fb(1).ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.fb(2).ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i)\n  s.y.qpb(i).mul(10)\n  s.e.qm(i%6)\n    .degrade(0.75)\n    .cache(loop,8)\n  s.m.not(s.e)\n});\n\nlet bassfile = 'http://localhost:6060/midi/tune03/tune03-bass.mid'\nlet bassp = $midifile(bassfile).cache(loop,8)\n\nlet kick = s0\nlet sn = s1\nlet hh = s2\nlet breaks = s3\nlet bass = s5\nlet noise = s6;\nlet noise2 = s7;\nlet drone = s8;\n\nz.bpm.set(160)\n\n// streams toggle between samp and grains\n;[breaks,noise2].map(st => {\n  st.p.inst.io(kick.e,sn.e).if(2,1)\n  st.p.rate.set(st.p.inst).eq(1)\n    .if(1,$set(st.y).mtr(0.5,1).step(0.25))\n})\n\nkick.set({inst: 1, bank: 'kick.808', cut: [kick.i, bass.i, noise.i, breaks.i],cutr:ms(0.5),vol:1.5})\nkick.p.n.set(bassp).sub(31).mod(12).add(60)\nkick.p.i.set(kick.x).mul(16).step(1)\nkick.e.or('1|0|*3')\n\nsn.set({inst: 1, bank:'claps.rare', i: 3, fx0:0.125, vol:1.1,\n  cut: [0,1,2,3,4,5,6]\n})\nsn.p.pan.set(breaks.p._pan).subr(1)\nsn.e.reset().set('0 0 0 1 0 0 0 0 | 0')\n\nbass.set({inst: 1, cut:bass.i, bank: 'lb02', dur:ms(4),dist:0,vol:1.5})\nbass.p.i.set('4')\nbass.p.n.set(bassp).sub(24).mod(12).add(60)\nbass.e.reset().set(kick.e)\n\nhh.set({inst: 1, snap:z.q, lc:0.75, dur:ms(8), vol:1.5, cut:breaks.i})\nhh.e.reset().set(kick.e).or(sn.e)\n  .and('1*16|*4 0*16|*2')\nhh.p._pan.set(hh.x).mtr(0.1,0.7)\nhh.p.i.set(hh.x).mul(16).step(1)\nhh.p.begin.set(kick.e).if(0, $saw(0,1,1))\nhh.p.bank.set(kick.e).if('breaks.tech', 'gm.glitch.2b')\n\nbreaks.set({cut: [breaks.i,bass.i,hh.i], bank: 'breaks.hp', lc:0.3, dur:ms(4), acurve:0.75, vol:0.7, hc:0.3})\nbreaks.p.a.set(kick.e).if(1,0).btms()\nbreaks.p._pan.set(breaks.y).mtr(0.75,0.3)\nbreaks.p.snap.set(kick.e).if(1,2).mul(z.q)\nbreaks.p.i.set(breaks.y).mul(4).step(1)\nbreaks.p.fx0.set(breaks.y).mtr(0,0.125)\nbreaks.p.begin.saw(0,1,1/4)\nbreaks.e.or(kick.e)\n  .and('1*16|*6 0*16|*2')\n  .and($every(2).or($every(3)))\n\nnoise.set({inst: 1, bank: 'tune.02',snap:z.q*1.75, fx0:0.25, lc:0.5, vol: 1.5})\nnoise.p.i.set(noise.y).mul(5).step(1).seq([6,7,8,9,10,11])\nnoise.p.begin.saw(0,1,1/7)\nnoise.p.dur.midifile(bassfile, 'dur').btms()\nnoise.p._pan.noise(0.3,0.7)\nnoise.e.set(kick.e)\n\nnoise2.set({inst: 1, bank: 'gm.horror', lc:0.5, a:ms(2), acurve:0.75, dur:ms(4), vol:1.5,lag:ms(2)})\nnoise2.p.i.random(0,32).step(1)\nnoise2.p.begin.saw(0,1,1/4)\nnoise2.p._fx0.set(noise2.y).mtr(0,0.25)\nnoise2.p._level.set(noise2.y).subr(1).mul(0.25)\nnoise2.p._pan.set(1).sub(noise.p._pan)\nnoise2.e.reset().set(sn.e)\n\nfx0.set({dfb:0.8,lc:0.3,_track:10,dtime:17.75})\nfx0.p.delay.set(kick.p.n).mod(12).eq(0).mtr(0,0.75)\nfx0.p.reverb.toggle(kick.e).mul(0.5)\nfx0.p.rtail.io(sn.e,kick.e).mtr(0.1,0.35)\nfx0.e.set(kick.e).or(sn.e)\n\n// kick.e.set(0)\nsn.e.set(0)\nhh.e.set(0)\nbreaks.e.set(0)\nbass.e.set(0)\n// noise.e.set(0)\n// noise2.e.set(0)\n// drone.e.set(0)","hw-5":"// d.fetch('https://zendata.cephasteom.co.uk/api/book/7', 'holywrit')\nz.set({dist:0.35})\nz.q=16\n\nlet loop = Math.floor(z.q)\n\n// circuit\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.fb(3).ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.fb(0).ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.fb(1).ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.fb(2).ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i)\n    // .add($noise())\n  s.y.qpb(i)\n    .mul(10)\n  s.e.qm(i%4)\n    .degrade(0.5)\n    .cache(loop,8)\n  s.m.not(s.e)\n});\n\nlet bassfile = 'http://localhost:6060/midi/tune03/tune03-bass.mid'\nlet bassp = $midifile(bassfile).cache(loop,8)\n\nlet kick = s0\nlet sn = s1\nlet hh = s2\nlet breaks = s3\nlet bass = s5\nlet noise = s6;\nlet noise2 = s7;\n\nz.bpm.set(180)\n\n// streams toggle between samp and grains\n;[kick,sn,breaks,noise,noise2,hh,bass].map(st => {\n  st.p.inst.toggle(kick.e).if(2,1)\n  st.p._grainrate.set(st.y).mtr(1,32).step(1)\n  st.p.rate.set(st.p.inst).eq(1)\n    .if(1,$set(st.y).mtr(0.5,1).step(0.25))\n})\n\nkick.set({inst: 1, bank: 'kick.808', cut: [kick.i, bass.i],cutr:ms(0.5),vol:1.5})\nkick.p._n.set(bassp).sub(31).mod(12).add(60)\nkick.p.i.set($qm(0).if($random(0,16).step(1), 0))\nkick.p.amp.set($qm(0).if($random(0.25,0.5), 1))\nkick.e\n  .degrade(0.8)\n  .or('3:8|2:8|1:8')\n\nsn.set({inst: 1, bank:'clap808', i: '6', fx0:0.125, vol:1.5,\n  cut: [0,1,2,3,4,5,6,7]\n})\nsn.p.s.set(sn.y).mtr(0.1,0.5)\nsn.p.dur.set(sn.x).mtr(1,0.1).btms()\nsn.e.reset().set('0 0 0 1?0 0 0 0 0 |*8')\n\nbass.set({inst: 1, cut:bass.i, bank: 'lb02', dur:ms(4),dist:0,vol:1.5})\nbass.p.i.set(4)\nbass.p.n.set(bassp).sub(24).mod(12).add(60)\nbass.e\n  .and($not(kick.e))\n  .or(sn.e)\n  .and($odd())\n\nhh.set({inst: 1, snap:z.q*2, lc:0.75, dur:ms(8), vol:1, bank:'breaks.tech'})\nhh.e.reset().set(kick.e).or(sn.e)\n  .and('1*16|*4 0*16|*2')\nhh.p._pan.set(breaks.p._pan).subr(1)\nhh.p.i.set(hh.x).mul(16).step(1)\nhh.p.begin.set(kick.e).if(0, $saw(0,1,1))\n\nbreaks.set({cut: [breaks.i,hh.i], bank: 'breaks.90.4b', lc:0.3, dur:ms(4), acurve:0.75, vol:1})\nbreaks.p.a.set(kick.e).if(1,0).btms()\nbreaks.p._pan.noise(0.25,0.75,1/4)\nbreaks.p.snap.set(kick.e).if(2,3).mul(z.q)\nbreaks.p.i.set(breaks.y).mul(4).step(1)\nbreaks.p._grainrate.set(breaks.y).mtr(1,32).step(1)\nbreaks.p._hc.set(breaks.y).mtr(1,0.75)\nbreaks.p.fx0.set(breaks.y).mtr(0,0.125)\nbreaks.p.begin.saw(0,1,1/4)\nbreaks.e.or(kick.e)\n  .and('1*16|*6 0*16|*2')\n  .and($every(2).or($every(3)))\n\nnoise.set({inst: 1, bank: 'tune.02',snap:z.q*1.75, fx0:0.5, lc:0.5,vol:1.5})\nnoise.p.i.set(noise.y).mtr(6,10).step(1)\nnoise.p.begin.saw(0,1,1/7)\nnoise.p.dur.midifile(bassfile, 'dur').btms()\nnoise.e.set(kick.e)\n\nnoise2.set({inst: 1, bank: 'tune.02', lc:0.5, a:ms(2), acurve:0.75, dur:ms(4), vol:2,lag:ms(2)})\nnoise2.p.i.random(18,23).step(1)\nnoise2.p.begin.saw(0,1,1/4)\nnoise2.p._fx0.set(noise2.y).mtr(0,0.25)\nnoise2.p._level.set(noise2.y).subr(1).mul(0.25)\nnoise2.e.reset().set(sn.e)\n\nfx0.set({dfb:0.8,lc:0.3,_track:10,dtime:17.75})\nfx0.p.delay.set(kick.p.n).mod(12).eq(0).mtr(0,0.75)\nfx0.p.reverb.toggle(kick.e).mul(0.5)\nfx0.p.rtail.io(sn.e,kick.e).mtr(0.1,0.35)\nfx0.e.set(kick.e).or(sn.e)","hw-6":"// d.fetch('https://zendata.cephasteom.co.uk/api/book/7', 'holywrit')\nz.set({\n  dist:0.35\n})\nz.q=16\n\nlet loop = Math.floor(z.q)\nlet fill = $c().mod(8).eq(7)\n\n// circuit\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.fb(3).ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.fb(0).ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.fb(1).ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.fb(2).ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i)\n    // .add($noise())\n    .mod(1)\n  s.y.qpb(i)\n    // .mul(5)\n    .mod(1)\n  s.e.set(fill).if(\n    $qm(i%4).degrade(0.75).cache(loop,4),\n    $qm(i%4).degrade(0.5)\n  )\n  s.m.not(s.e)\n});\n\nlet bassfile = 'http://localhost:6060/midi/tune03/tune03-bass.mid'\nlet bassp = $midifile(bassfile).cache(loop,8)\n\nlet kick = s0\nlet sn = s1\nlet hh = s2\nlet breaks = s3\nlet bass = s5\nlet layer1 = s8\nlet layer2 = s7\nlet layer3 = s8\n\nz.bpm.set(180)\n\nkick.set({inst: 1, bank: 'kick.808', cut: [kick.i, noise.i, breaks.i, bass.i, hh.i, layer1.i],cutr:ms(0.5),vol:1.5, hc:0.5})\nkick.p.n.set(bassp).sub(31).mod(12).add(60)\n  .add($set('3:8').if(0,12))\nkick.p.dur.set('1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0').if(1, 1/16).btms()\nkick.p.i.set('3:8').if(5, 0)\nkick.e\n  .and($even())\n  .or('3:8')\n\nsn.set({inst: 1, bank:'toms808', i: 0, vol:1.1,\n  cut: [0,1,2,3,5,6,7,8],dist:0,\n  // fx0:0.5\n})\nsn.p.n.set(bassp).sub(34).mod(12).add(60)\nsn.p.dur.set(sn.y).mtr(0.25,1).btms()\nsn.p.s.saw(0.25,1,1/16)\nsn.p.pan.set(breaks.p._pan).subr(1)\nsn.e.reset().set('0 0 1 0 0 0 0 0 | 0')\n\nhh.set({inst: 1, bank: 'gm.glitch.2b', dur:20, vol:2, r:5, snap:z.q*2, \n  cut:[breaks.i],\n  cutr:ms(0.5), s:0.5})\nhh.p.lc.set(hh.p.inst).eq(1).if(0.5, 0)\nhh.p.amp.random(0.5,1).cache(loop,4)\nhh.p._pan.set(breaks.p._pan).subr(1)\nhh.p.i.set(hh.y).mul(16).step(1).cache(loop,4)\nhh.p.begin.saw(0,1,1/2)\nhh.e.reset()\n  .every('1|*16 2|*16')\n  // .every(1)\n  .and($not(breaks.e))\n  .and($not(sn.e))\n\nbreaks.set({inst:1, lc:0.3, vol:0.8, cut:[breaks.i,noise.i,hh.i,layer1.i],s:0,a:0})\nbreaks.p.dur.set('1 0 0 1 0 0 0 0 0').if(1.5,1).btms()\nbreaks.p.d.set('1 0 0 1 0 0 0 0 0').if(1.5,1).btms()\nbreaks.e.reset()\n  .set(kick.e)\n  .and($square(0,1,1/32))\nbreaks.p._pan.set(breaks.x).mtr(0.25,0.75)\nbreaks.p.s.saw(0.25,1,1/16)\nbreaks.p.i.set(fill).if(\n  8,\n  $set(breaks.x).mul(16).step(1)\n)\nbreaks.p.snap.set(z.q/2)\nbreaks.p.bank.set('breaks.145')\n\nlayer1.set({\n  lag:ms(1/4),\n  inst:7,\n  d:50,\n  s:0.1,\n  r:1000,\n  op2a:0,\n  op2d:10,\n  op2ratio:1.5,\n  dist:0,\n  // fx0:0.5,\n  level:0.35\n})\nlayer1.p.n.set('3:8')\n  .if('Gmi%3','Gmi9%8')\n  .sub(36).add($set('3:8').if(0,12))\nlayer1.p.strum.set('3:8').if(0,1/4).btms()\nlayer1.p.dur.set('3:8').if(1,1/8).btms()\nlayer1.p.amp.set('3:8').if(1,0.5)\nlayer1.p.cut.not('3:8').if(layer1.i)\nlayer1.e\n  .add($even())\n  .and($not(sn.e))\n  .and($not(breaks.e))\n  .or('3:8')\nlayer1.p._op2gain.set(layer1.x).mtr(10,100)\nlayer1.p._op2s.set(layer1.y).mtr(0.01,1)\nlayer1.p.op3gain.set(layer1.y).mtr(1,0)\nlayer1.p.op3ratio.set(layer1.x).mtr(1,11).step(1)\nlayer1.p.fx0.saw(0,0.5,1/32)\nlayer1.m.reset().not('3:8')\n\nfx0.set({dfb:0.5,lc:0.3,_track:10,dtime:ms(0.25)})\nfx0.p.delay.set(kick.p.n).mod(12).eq(0).mtr(0,0.75)\nfx0.p.reverb.io(sn.e,kick.e).mtr(0.1,0.5)\nfx0.p.rtail.io(sn.e,kick.e).mtr(0.1,0.35)\nfx0.e.set(kick.e).or(sn.e)","tmp-1":"// d.fetch('https://zendata.cephasteom.co.uk/api/book/10', 'holywrit')\nz.q=16\nz.bpm.set(130)\nz.set({dist:0.4,drive:0.5})\n\nlet loop = Math.floor(z.q*2)\nlet fill = $c().mod(8).eq(7)\nlet kpat = '3:8*2'\nlet snpat = '0 0 1 0 0 0 0 0| 0 0 1 0 0 1 0 0'\nlet fmps = {inst:7,vol:0.25,_track:4,lag:ms(1),dist:0}\n\nlet kick = s0\nlet sn = s1\nlet clap = s2\nlet breaks = s3\nlet fm1 = s4\nlet fm2 = s5\nlet acid = s6\n\n// circuit\nlet p = i => $set(d.holywrit)\n  .at($t().mod(d.holywrit.length))\n  .at('params')\n  .at(i).or(0)\n  .mtr(0,1,-Math.PI*2,Math.PI*2)\n\nq0.ry(p(0)).rz(p(4)).cx([1],2).ry(p(8)).rz(p(12))\nq1.ry(p(1)).rz(p(5)).cx([2],1).ry(p(9),1).rz(p(13))\nq2.ry(p(2)).rz(p(6)).cx([3],0).ry(p(10)).rz(p(14))\nq3.ry(p(3)).rz(p(7)).ry(p(11)).rz(p(15))\n\n// all streams\nstreams.slice(0,16).map((s,i) => {\n  s.x.qphase(i).mod(1)\n  s.y.qpb(i).mod(1).mul(10)\n  s.e.set(fill).if(\n    $qm(i%4).degrade(0.25),\n    $qm(i%4).degrade(0.75).cache(loop,4)\n  )\n});\n\nlet bassfile = 'http://localhost:6060/midi/tune03/tune03-bass.mid'\nlet bassp = $midifile(bassfile)\nlet chfile = 'http://localhost:6060/midi/tune03/tune03-chords.mid'\nlet chp = $midifile(chfile)\n\nkick.set({inst: 1, bank: 'kick.808', cut:[kick.i,clap.i,breaks.i,fm1.i,fm2.i], vol:1.5, hc:0.5})\nkick.p.n.mod(loop).set(bassp).sub(31).mod(12).add(60).add($set(kpat).if(0,12))\nkick.p.dur.set('1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0').if(1, 1/4).btms()\nkick.p.i.set(kpat).if(5, 0)\nkick.e.or(kpat)\n\nsn.set({inst: 1, bank: 'toms808', cut:[kick.i,clap.i,breaks.i,fm1.i,fm2.i],dur:ms(1/2),s:0.1})\nsn.p.n.mod(loop).set(chp).at(0).sub(36).mod(12).add(50)\nsn.e.or(snpat)\n\nclap.set({\n  cut:breaks.i,\n  inst: 1, \n  bank: 'claps.rare',\n  s:0.1,\n  d:100, \n  cut:[kick.i,sn.i,fm2.i], \n  i:2\n})\nclap.p.r.set(clap.y).mtr(10,1000)\nclap.e.reset()\n  .set(snpat)\n\nbreaks.set({\n  inst: 1, \n  bank: 'breaks.archn', \n  snap:z.q,\n  dist:0,\n  vol:0.5,\n  cut:breaks.i,\n})\nbreaks.p.i.set(breaks.y).mul(16).step(1).cache(z.q,4)\nbreaks.p.begin.saw(0,1)\n  .step(1/8)\nbreaks.e.reset()\n  .set(kick.e)\n  .and($not(clap.e))\n\nfm1.set({\n  ...fmps,\n  r:ms(1),\n  op1fb:0.5,\n  op2a:5,\n  op2d:10,\n  op2s:0.05,\n  op2ratio:1.5,\n  dur:ms(0.125),\n})\nfm1.p.n.set(kick.p.n).sub(5).sub(36).mod(12).add(48).fn(n => [n,n+7])\nfm1.px.a.saw(0.01,0.5).step(1/16).btms()\nfm1.py._op2gain.saw(1,20).cache(loop*2,4)\nfm1.py._op2fb.saw(2,0.5).cache(loop*2,4)\nfm1.m.set(fm2.e)\nfm1.e.reset().set(kick.e)\n\nfm2.set({\n  ...fmps,\n  cut:fm1.i,\n  op2d:10,\n  op2s:0.005,\n  _op2ratio:7.1,\n  _op2gain:fm1.py._op2gain,\n  _op2fb:fm1.py._op2fb,\n  dur:ms(0.125),\n})\nfm2.set({cut:fm2.i})\nfm2.p.n.mod(loop).set(chp)\nfm2.p.strum.rarely().if('0.5?0.25*16|*2',0).btms()\nfm2.m.set(fm1.e)\nfm2.e.reset().set(sn.e)\n\nacid.set({inst:1,bank:'bass.minimoog',dist:0.1,cut:acid.i,i:11,s:0.5})\nacid.p.n.set(kick.e)\n  .if(\n    $t().mod(loop).set(bassp),\n    $t().mod(loop).set(chp).at('0..2?*16')\n  )\n  .add(12)\nacid.e.reset()\n  .set(clap.e)\n  .or(breaks.e)","hc-1":"// ROOM 1\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\n// 0, 12\nconst book = d.hc[12]\n\nz.bpm.set(180)\nlet mf = 2\n\nlet loop = book.data.states.length; // length of book\nloop = 4 * z.q; // custom length\nlet section = 32 // length of larger section\nlet smoothing = 4\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $saw(0,1,1/section)\nlet space = $cc(1,mf,0.25)\nlet fx0level = $cc(2,mf,0.25)\nlet fx1level = $cc(3,mf,0.25)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = $t().mod(loop)\n  s.x.set(values).at(t).mtr(0,1,-Math.PI,Math.PI).subr(1)\n  s.y.set(amps).at(t).at(i)\n  s.e.set(states).at(t).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,i ? 1 : 0)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:6})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.set({in:2,ba:'design',a:ms(0.25),loop:1,r:ms(2),cut:[0,5]})\ns0.p.i.random(0,4).step(1)\ns0.p._vol.mul(0.75)\ns0.px._hc.set(energy).mtr(0.5,0.125)\ns0.px._grainrate.saw(4,12).step(1)\ns0.px._rate.saw(0.5,1).step(0.25)\ns0.px._fx0.saw(0,0.75)\ns0.py._fx1.saw(0,0.5)\ns0.py._grainsize.saw(1/4,1/8)\ns0.py.dur.saw(4,16).step(1).btms()\ns0.p._pan.noise()\ns0.p.begin.random(0,0.75).step(1/8)\ns0.m.reset().set(1)\n\ns1.set({in:2,ba:'rumble',dur:ms(16),snap:q*16,n:49,i:4,lag:ms(smoothing),a:ms(2),\nr:ms(2),fx0:1,level:0.125,cut:1,cutr:ms(2),lc:0.3})\ns1.px._hc.set(energy).mtr(0.5,0)\ns1.px._grainrate.saw(4,12).step(1)\ns1.py._grainsize.saw(0.25,1)\ns1.p.begin.saw(0,1,1/16)\ns1.e.reset().every(z.q*2)\n\ns4.set({in:1,ba:'air',dur:ms(16),snap:z.q*2,i:3,lag:ms(smoothing),loop:1,fx0:1})\ns4.px._hc.set(energy).mtr(0.5,1)\ns4.py._pan.saw(0.3,0.7)\ns4.p.begin.saw(0,1,1/2)\ns4.e.reset().every(z.q*4)\n\ns5.set({in:1,ba:'gm.static',dur:ms(2),i:'3?4?5*16|*4',lag:ms(smoothing),cut:2,fx0:1,fx1:1,hc:0.5,a:ms(4)})\ns5.py.n.v('Cdor%16..*16')\ns5.p._hc.set(energy).subr(1)\ns5.px._pan.saw()\ns5.p.begin.saw(0,0.5,1/4)\ns5.e.reset().set(s0.e).degrade(0.25)\ns5.m.not(s5.e)\n\nlet bars = 4\ns6.set({inst:1,bank:'drone.ts',dur:ms(bars*4),cut:2,n:48,_track:7,i:5,rate:-1,a:ms(4),cutr:ms(4),fx0:0.5,hc:0.5})\ns6.e.every(z.q*bars)\ns6.p._vol.cc(14,mf,0)\ns6.m.not(s6.e)","hc-2":"// ROOM 2\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\nseed(3)\n\n// 2,0,3\nconst book = d.hc[2]\n\nz.bpm.set(180)\n\nlet mf = 2\nlet loop = book.data.states.length; // length of book\nloop = 3 * z.q; // custom length\nlet smoothing = 4\nz.t.saw(0,loop,1/3)\n  .add(z.q)\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $cc(0,mf,0.5)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = $t().mod(loop)\n  s.x.set(values).at(t).mtr(0,1,-Math.PI,Math.PI).subr(1)\n  s.y.set(amps).at(t).at(i)\n  s.e.set(states).at(t).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,0)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:6})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.set({inst:'2',bank:'breaks.archn',_snap:loop,cut:[2,3],fx0:1/8,d:ms(1/4),s:0.125,cutr:ms(1/2)})\ns0.p.i.random(0,16,1)\ns0.p._grainsize.set(energy).mtr(1,0.125)\ns0.p.dur.set(energy).mtr(0.5,4).btms()\ns0.px.begin.noise().gt(0.5).if(0, $noise().step(0.125))\ns0.mute.noise(0,1).gt(energy)\ns0.solo.noise(0,1).lt(energy)\n\ns1.set({inst:2,bank:'gm.sine',cut:[0,1,4],dur:ms(1),cutr:ms(0.25),acurve:0.75})\ns1.p._vol.mul(2.5)\ns1.p.i.random(0,12,1)\ns1.p._pan.noise()\ns1.px.begin.saw(0,1,1/8).step(1/8)\ns1.px._grainsize.saw(1/6,1/16)\ns1.px._grainrate.saw(6,32)\ns1.py._rate.saw(1,4).mul(-1)\ns1.py._level.saw(0,1)\ns1.py._fx0.saw(1,0)\ns1.py.a.saw(0.25,2).btms()\ns1.e.and($every(2))\n\ns2.set({inst:6,dur:ms(2),r:ms(4),lforate:1,lfodepth:0,fat:0.25})\ns2.p.n.set(38)\ns2.e.reset().set(s0.e).and($c().mod(loop/z.q).lt((loop/z.q) - 1))\ns2.m.reset().set(1)\ns2.solo.set(s0.solo)\ns2.mute.set(s0.mute)\n\ns4.set({inst:1,bank:'metal.vlong1',dur:ms(8),r:ms(1),d:ms(1/4),a:ms(1/4)})\ns4.p._vol.mul(4)\ns4.p.i.random(0,16).step(1)\ns4.p.n.random(0,16).step(1).add(60)\ns4.px.begin.saw(0,1,1/16).step(1/8)\ns4.p.s.set(energy).mtr(0.75,0.25)\ns4.p._level.set(1).sub(s1.py._level)\ns4.p._fx0.set(s4.p._level).subr(1)\ns4.p._fx1.set(s4.p._level).subr(1)\ns4.p._pan.set(1).sub(s1.p._pan)\n","hc-3":"// ROOM 3\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\ns7.set({inst: 1, bank: 'vox.babel', i: 8, _track: 8, dur:ms(34)})\n// s7.e.once()\n\nconst book = d.hc[1]\nlet mf = 2\n\nz.bpm.set(180)\n\nlet loop = book.data.states.length; // length of book\nlet offset = 4\nlet smoothing = 1\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $cc(0,mf,0.5)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = (offset = 0) => $t().add(offset).mod(loop)\n  s.x.set(values).at(t((1 + i) * offset))\n    .mtr(0,1,-Math.PI,Math.PI)\n    .subr(1)\n  s.y.set(amps).at(t((1 + i) * offset)).at(i)\n  s.e.set(states).at(t((1 + i) * offset)).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,1)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:6})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.set({in:2,ba:'bd',dur:ms(4),s:0.125,grainrate:32,fx1:0.25,begin:0.9,cut:0,cutr:20})\ns0.p.fx0.set(energy)\ns0.p.level.set(s0.p.fx0).subr(1)\ns0.p.a.set(energy).mtr(2,1).btms()\ns0.px.i.random(0,32,1)\ns0.p._rate.set(s0.p.fx0).mtr(-0.5,-2).step(0.25)\ns0.e.and($every('2?3*16|*2'))\n\ns1.set({in:2,ba:'glass',s:0.25,snap:q*2,dur:ms(4),lc:0.5,a:ms(1),de:1,dtime:ms(1/16),dfb:0.8})\ns1.p._vol.mul(2)\ns1.px.dcolour.set(energy).mtr(0.5,0.75)\ns1.px.i.noise(0,16,1)\ns1.py.begin.random()\ns1.e.and($every('1?2*16|*2').and($not(s0.e)))\n\ns4.set({in:1,ba:'air',dur:ms(16),snap:z.q*2,i:3,lag:ms(smoothing),loop:1,\nfx0:1})\ns4.px._hc.set(energy).mtr(0.5,0.125)\ns4.py._pan.saw(0.3,0.7)\ns4.p.begin.saw(0,1,0,1/2)\ns4.e.reset().every(z.q*4)\n\ns5.set({in:1,ba:'gm.static',dur:ms(2),snap:z.q*16,i:54,lag:ms(smoothing),a:ms(2),acurve:0.75,cut:2,cutr:ms(1),fx0:1,fx1:1})\ns5.p._vol.mtr(0,0.125)\ns5.py.n.set('Cdor%16..*16')\ns5.px._pan.saw()\ns5.p.begin.saw(0,0.5,1/4)\n\nlet bars = 4\ns6.set({inst:1,bank:'drone.ts',dur:ms(bars*4),cut:2,n:48,_track:7,i:7,rate:-1,a:ms(4),cutr:ms(4),fx0:0.5,hc:0.5})\ns6.e.every(z.q*bars)\ns6.p._vol.cc(14,mf,0)\ns6.m.not(s6.e)","hc-4":"// ROOM 4\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\nconst book = d.hc[2]\nlet mf = 2\nz.bpm.set(120)\n\nlet loop = 3;\nlet offset = 0\nlet smoothing = 4\nz.t.saw(0,z.q*loop*2,1/(loop*2)).step(1)\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $midicc(0,mf,0.5)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = (offset = 0) => $t().add(offset).mod(loop * z.q)\n  s.x.set(values).at(t((1 + i) * offset))\n    .mtr(0,1,-Math.PI,Math.PI)\n    .subr(1)\n  s.y.set(amps).at(t((1 + i) * offset)).at(i)\n  s.e.set(states).at(t((1 + i) * offset)).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,1)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:6})\nfx1.p.dtime.set(s0.x).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\n;[s3,s4].map((s,i) => {\n  s.set({inst:i,ba:'ma808?bd*16',lag:ms(smoothing),mods:0.1,moda:0,modd:ms(1),s:0.125,r:ms(4),cut:5})\n  s.p._n.set(`Daeo%16..?*16|*${loop} Bblyd%16..?*16|*${loop}`).add(0).sub(i*12)\n  s.p._vol.mul(1.75)\n  s.p._level.add(i*12).noise()\n  s.py._pan.saw(0.2,0.8)\n  s.px._modi.saw(0,10).mul(energy)\n  s.py._harm.saw(1,(i+1),1)\n  s.py.fx0.saw(0.01,0.5)\n  s.px.fx1.saw(1,0.5)\n  s.p.i.set(0)\n  s.p.amp.random(0.5,1)\n  s.m.reset().noise().gt(0.75)\n})\n\ns5.set({in:1,ba:'gm.static',dur:ms(2),i:3,lag:ms(smoothing),fx0:1,fx1:1, level:0, a:ms(1)})\ns5.py.n.set('Cdor%16..*16')\ns5.px._pan.set(s3.p._pan).subr(1)\ns5.p.begin.saw(0,0.5,0,1/4)\ns5.e.reset().set(s3.e)\n\nlet bars = 8\ns6.set({inst:1,bank:'drone.ts',dur:ms(bars*4),cut:2,n:48,_track:7,i:11,rate:-1,a:ms(4),cutr:ms(4),fx0:0.5,fx1:0.5,hc:0.25})\ns6.e.every(z.q*bars)\ns6.p.begin.set(0.5)\ns6.p._vol.cc(14,mf,0).mul(2)\ns6.p._level.noise().mtr(0.5,1)\ns6.m.not(s6.e)","hc-5":"// ROOM 5\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\nconst book = d.hc[3]\nlet mf = 2\n\nz.bpm.set(160)\n\nlet hits = book.data.states.length; // length of book\nlet loop = 4\nlet smoothing = 4\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $cc(0,mf,0.75)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = $t().mod(hits)\n  s.x.set(values).at(t).mtr(0,1,-Math.PI,Math.PI).subr(1)\n  s.y.set(amps).at(t).at(i)\n  s.e.set(states).at(t).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,1)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:7})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.t.saw(0,z.q*loop,1/loop)\ns0.set({inst:2,bank:'breaks.hp',_snap:z.q*loop,cut:2,fx0:1/8,d:ms(1/4),s:0.25,cutr:ms(1/2),r:ms(2)})\ns0.p._vol.mul(0.75)\ns0.p.i.random(0,6).step(1)\ns0.p.n.set('50 Dmi%6..?*15')\ns0.p._grainsize.set(energy).mtr(0.5,0.125)\n  .mul($noise().mtr(0.5,1))\ns0.p.dur.set(energy).mtr(4,8).btms()\ns0.px.begin.noise().gt(0.5).if(0, $noise().step(0.125))\ns0.py._grainrate.saw(2,64,16).sub(5)\ns0.py.rate.saw(0.25,0.5,0.25)\ns0.e.or($every(32))\ns0.mute.noise(0,1).gt(energy)\ns0.solo.noise(0,1).lt(energy)\n\ns1.set({in:2,ba:'oriki',lc:0.75,cut:1,dur:ms(1/16),r:10,dtime:50,dfb:0.85})\ns1.p.nudge.sine(0,1/8,0,1/6).btms()\ns1.px.begin.saw(0,1/4)\ns1.p._dcolour.noise(0.5,1,0,1/6)\ns1.p._delay.set(1).sub($set(s1.p._dcolour).mul(0.125))\ns1.p._pan.noise(0.25,0.75,0,1/3)\ns1.p._vol.mul(4)\ns1.e.reset().every(1)\n\ns2.t.saw(0,z.q*loop,1/loop).step(1)\ns2.set({inst:6,r:ms(4)})\ns2.p.dist.set(energy).mtr(0,0.25)\ns2.p.dur.set(s0.p.dur)\ns2.p.n.set('38')\ns2.p._fat.noise().mul(0.125)\ns2.p._drive.set(1).sub(s2.p._fat).mul(0.5)\ns2.px.lforate.saw()\ns2.py.lfodepth.saw()\ns2.e.reset()\n  .set(s0.e)\n  .and($every('1*2 1?2*14'))\n  .and($c().mod(loop).lt(loop - 1))\ns2.m.reset().set(1)\ns2.solo.set(s0.solo)\ns2.mute.set(s0.mute)\n\ns3.set({inst:0,fx0:1,fx1:1,dur:ms(2),a:ms(4),cut:3,lag:ms(4),moda:ms(4),strum:ms(1),lc:0.5})\ns3.p.n.set('Dmi').sub(12)\ns3.py._modi.saw(1,2).mul($set(energy).mtr(1,4))\ns3.solo.set(s0.solo)\n// s3.e.or($every(16))\n\ns4.set({in:1,ba:'air',dur:ms(16),snap:z.q*2,i:3,lag:ms(smoothing),loop:1})\ns4.py._pan.saw(0.3,0.7)\ns4.p.begin.saw(0,1,1/2)\ns4.p._vol.mul(2)\ns4.e.reset().every(z.q)\n\ns5.set({in:1,ba:'atmos',dur:ms(2),i:0,lag:ms(smoothing),\nfx0:1,fx1:1,cutr:ms(0.5),loop:0.125})\ns5.p._vol.mtr(0,1)\ns5.p.n.set('65|60|65')\ns5.px._pan.saw()\ns5.px.a.saw(0.1,4).btms()\ns5.p.begin.saw(0,0.5)","hc-6":"// ROOM 6\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\nconst book = d.hc[0]\nlet mf = 2\n\nz.bpm.set(160)\n\nlet hits = book.data.states.length; // length of book\nlet loop = 4\nlet smoothing = 4\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $cc(0,mf,0.75)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = $t().mod(hits)\n  s.x.set(values).at(t).mtr(0,1,-Math.PI,Math.PI).subr(1)\n  s.y.set(amps).at(t).at(i)\n  s.e.set(states).at(t).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,1)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:7})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.t.saw(0,z.q*loop,1/loop).step(1)\ns0.set({inst:2,bank:'breaks.hp?breaks.archn*16',snap:z.q*loop,cut:[0,1],fx0:1/8,d:ms(1/4),s:0.25,cutr:ms(1/2),r:ms(2),lag:ms(smoothing)})\ns0.p.i.random(0,6).step(1)\ns0.px.n.set('50 Dmi%6..?*15')\ns0.p.dur.set(energy).mtr(4,8).btms()\ns0.px.begin.noise().gt(0.5).if(0, $noise().step(0.25))\ns0.e.or($every(z.q*2))\n\ns1.set({inst:2,bank:'hh2',cut:'0?1*16',lc:0.5,dur:ms(1/32),r:10,dtime:ms(1/8),dcolour:0.85,dfb:0.85,n:72})\ns1.p.i.random(0,32).step(1)\ns1.p._vol.mul(1.5)\ns1.p.amp.random()\ns1.p.r.set(energy).mtr(5,250)\ns1.p.delay.set(space).mtr(0,0.75)\ns1.py.pan.noise()\ns1.e.and($every(1)).and($not(s0.e))\n\ns5.set({in:1,ba:'atmos',dur:ms(2),i:'4?5*16',lag:ms(smoothing),\n  fx0:1,fx1:1,\n  detune: 0.1,\n  cutr:ms(0.5),\n  level:1,\n  a:ms(1/8)\n})\ns5.p.n.set('65|60|65')\ns5.px._pan.saw()\ns5.px.a.saw(0.1,4).btms()\ns5.p.begin.saw(0,1)","hc-7":"// ROOM 7\n// d.fetch('https://zendata.cephasteom.co.uk/api/packets', 'hc')\n// d.fetch('https://zendata.cephasteom.co.uk/api/packet', 'hc_last')\n\n// 0, 10, 20, 3\nconst book = d.hc[0]\nlet mf = 2\nlet lb = 1\n\nz.bpm.set(160)\n\nlet hits = book.data.states.length; // length of book\nlet smoothing = 4\nlet loop = 3\nz.t.saw(0,z.q*loop,1/loop).step(1)\n  .add(z.q*4)\n\nlet states = $set(book).fn(o => o.data.states)\nlet amps = $set(book).fn(o => o.data.amps)\nlet values = $set(book).fn(o => o.data.values)\n\nlet energy = $cc(0,mf,0.75)\nlet space = $cc(1,mf,0.5)\nlet fx0level = $cc(2,mf,0.5)\nlet fx1level = $cc(3,mf,0.5)\n\nstreams.slice(0,6).map((s,i) => {\n  let t = $t().mod(hits)\n  s.x.set(values).at(t).mtr(0,1,-Math.PI,Math.PI).subr(1)\n  s.y.set(amps).at(t).at(i)\n  s.e.set(states).at(t).at(i)\n  s.m.n(s.e).and($every(2))\n  s.p._vol.cc(4 + (i * 2),mf,1)\n});\n\nfx0.set({re:1, rsize:0.75, rdamp:0.5, _track:6})\nfx0.p.rtail.set(space)\nfx0.p._level.set(fx0level)\nfx0.e.set(1)\n\nfx1.set({de:1, _track:7})\nfx1.p.dtime.set(space).mtr(1.5,3.5).step(0.5).btms()\nfx1.p.dfb.set(space)\nfx1.p._level.set(fx1level)\nfx1.e.set(1)\n\ns0.set({inst:2,bank:'breaks.archn',_snap:z.q*loop,cut:[3],fx0:1/8,d:ms(1/4),cutr:ms(1/2)})\ns0.p.i.random(0,16).step(1)\ns0.p._vol.mul(0.5)\ns0.py._grainsize.saw(1/8,1/32)\ns0.py._grainrate.set(32,8).add(4)\ns0.px.begin.noise().gt(0.5).if(0, $noise().step(0.125))\ns0.p._pan.set(s0.px.begin).eq(0).if(0.5, $random(0.25,0.75))\ns0.px.s.saw(0.125,0.75)\ns0.p.dur.set(energy).mtr(0.25,4).btms()\ns0.mute.noise(0,1).gt(energy)\ns0.solo.noise(0,1).lt(energy)\n\ns1.set({in:2,bank:'clap808',dur:ms(1),cut:[0,2,7]})\ns1.p._vol.mul(1.75)\ns1.e.reset().set('0*3 1 0*4| 0 | 0 | 0')\ns1.solo.set(s0.e)\n\n// sine bass\ns2.set({inst:6,dur:ms(2),r:ms(4),lforate:1,lfodepth:0,fat:0.25,cut:2,cutr:50})\ns2.py.n.set(38)\ns2.e.reset().set(s0.e)\ns2.m.reset().set(1)\ns2.solo.set(s0.solo)\ns2.mute.set(s0.mute)\n\ns5.set({inst:1,bank:'gm.static',dur:ms(16),lag:ms(smoothing),fx0:0,fx1:0,cut:5,snap:z.q*2})\ns5.p._vol.mul(2)\ns5.p.i.random(0,16).step(1)\ns5.px._pan.random()\ns5.p.begin.saw(0,0.5,0,1/4)\ns5.solo.set(s0.solo)\n// s5.e.set(s0.e)\ns5.m.set(s5.e)\n\n// l bass\ns7.set({midi:lb,mididelay:200,dur:ms(4)})\ns7.py.n.set('Dmpent%6..*6').sub(24)\ns7.px._cc2.saw(0,0.75)\ns7.py._cc3.saw(1,0.1)\ns7.e.set(s2.e)\ns7.m.set(s2.m)\ns7.x.set(s2.x)\ns7.y.set(s2.y)\ns7.solo.set(s2.solo)\ns7.mute.set(s2.mute)\n\ns4.set({in:1,ba:'air',dur:ms(16),snap:z.q*2,i:3,lag:ms(smoothing),loop:1,\nfx0:1})\ns4.py._pan.saw(0.3,0.7)\ns4.p.begin.saw(0,1,0,1/2)\ns4.e.reset().every(z.q*4)\ns4.solo.set(s0.e)","hc-4.1":"// vox 10\ns7.set({inst: 1, bank: 'vox.babel', i: 10, _track: 8, dur:ms(34)})\ns7.solo.set(1)\ns7.e.once()","hc-7.1":"// vox 6\ns7.set({inst: 1, bank: 'vox.babel', i: 6, _track: 8, dur:ms(34)})\ns7.solo.set(1)\ns7.e.once()","hc-1.1":"// vox 1 \ns7.set({inst: 1, bank: 'vox.babel', i: 1, _track: 8, dur:ms(34)})\ns7.e.once()","hc-3.1":"s7.set({inst: 1, bank: 'vox.babel', i: 9, _track: 8, dur:ms(34)})\ns7.e.once()\n","hc-0.1":"s7.set({inst: 1, bank: 'vox.babel', i: 0, _track: 8, dur:ms(34)})\ns7.e.once()","hc-2.1":"s7.set({inst: 1, bank: 'vox.babel', i: 2, _track: 8, dur:ms(34)})\ns7.e.once()","tmp-2":"let lo = $noise(40,60,1/3); let hi = $noise(320,280,1/5);\nz.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\n// z.bpm.sine(lo,hi,1/4).step(1).print()\n\ns0.set({\n  inst: 1, bank: 'gm.static', i: 2, \n  // snap:z.q,\n  cut:0,\n  n:48,\n  chorus:0.5,\n  a:0, d:10, r:100,\n  dtime:ms(1/100), \n  dfb:0.85,\n  lag:ms(1/4),\n  rtail:0.1,\n  lc:0.1\n})\ns0.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\ns0.p._delay.set(z.bpm).mtr(0.5,0,lo,hi)\ns0.p._reverb.set(z.bpm).mtr(0,$saw(0.25,0.75,1/24),lo,hi)\ns0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\ns0.p._hc.set(z.bpm).mtr(1,0,lo,hi)\ns0.p.dur.set(1/(z.q*2)).btms()\ns0.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\ns0.p.dist.saw(0,0.5,1/64)\ns0.e.every(1)\ns0.m.every(1)\n\ns1.set({inst:1,bank:'air',oneshot:1,re:0.5,loop:1})\ns1.p._rate.set(z.bpm).mtr(1,8,lo,hi)\ns1.p._hc.set(z.bpm).mtr(0.5,0,lo,hi)\ns1.p._pan.set(s0.p.pan).subr(1).mtr(0.2,0.8)\ns1.e.every(32)\ns1.m.set(1)","tmp-3":"let lo = $noise(40,60,1/3); let hi = $noise(320,280,1/5);\nz.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\n// z.bpm.sine(lo,hi,1/4).step(1).print()\n\ns0.set({\n  inst: 1, bank: 'gm.static', i: 2, \n  cut:0,\n  n:48,\n  chorus:0.5,\n  a:0, d:10, r:100,\n  lag:ms(1/4),\n  fx0:1\n})\ns0.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\ns0.p._hc.set(z.bpm).mtr(1,0,lo,hi)\ns0.p._level.set(z.bpm).mtr(1,0,lo,hi)\ns0.p.dur.set(1/(z.q*2)).btms()\ns0.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\ns0.p.dist.saw(0,0.5,1/64)\ns0.e.every(1)\ns0.m.every(1)\n\ns1.set({inst:1,bank:'gm.static',dur:ms(32),vol:0.5,fx0:0.5})\ns1.p._rate.set(z.bpm).mtr(0.5,2,lo,hi)\ns1.p._hc.set(z.bpm).mtr(1,0.5,lo,hi)\ns1.e.every(32)\ns1.p.begin.saw(0,0.5,1/48)\ns1.m.set(1)\n\nfx0.set({_track:10,\n  dtime:ms(1/100),\n  dfb:0.85,\n  reverb:1,\n  rtail:0.5\n})\nfx0.p._delay.set(z.bpm).mtr(0.5,0,lo,hi)\n// fx0.p._reverb.set(z.bpm).mtr(0,$saw(0.25,0.75,1/24),lo,hi)\nfx0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\nfx0.e.every(16)\nfx0.m.every(1)","tmp-4":"let lo = $noise(40,60,1/3); let hi = $noise(320,280,1/5);\nz.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\n// z.bpm.sine(lo,hi,1/4).step(1).print()\n\ns0.set({\n  inst: 1, bank: 'gm.static', i: 2, \n  cut:[0,1],\n  n:48,\n  chorus:0.5,\n  a:0, d:10, r:100,\n  dtime:ms(1/100), \n  dfb:0.85,\n  lag:ms(1/4),\n  rtail:0.1,\n  lc:0.1\n})\ns0.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\ns0.p._delay.set(z.bpm).mtr(0.5,0,lo,hi)\ns0.p._reverb.set(z.bpm).mtr(0,$saw(0.25,0.75,1/24),lo,hi)\ns0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\ns0.p._hc.set(z.bpm).mtr(1,0,lo,hi)\ns0.p.dur.set(1/(z.q*2)).btms()\ns0.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\ns0.p.dist.saw(0,0.5,1/64)\ns0.e.every(1)\ns0.m.every(1)\n\ns1.set({inst:1,bank:'air',oneshot:1,re:0.5,loop:1})\ns1.p._rate.set(z.bpm).mtr(1,8,lo,hi)\ns1.p._hc.set(z.bpm).mtr(0.5,0,lo,hi)\ns1.p._pan.set(s0.p.pan).subr(1).mtr(0.2,0.8)\ns1.e.every(32)\ns1.m.set(1)\n\ns2.set({\n  inst:0, detune:-0.15, re:0.125, rtail:0.5,\n  amp:0.5,\n  op2a:0,op2d:10,op2s:0.1,\n  hc:0.75,\n  dur:ms(1),\n  lag:ms(2),\n  cut:2,\n})\ns2.p._n.set(z.bpm).mtr(0,16,lo,hi).step(1)\n  .set('F#mi%16..*16').sub(36)\ns2.p._modi.set(z.bpm).mtr(0.1,10,lo,hi)\ns2.p._harm.set(z.bpm).mtr(3.5,0.5,lo,hi)\n  .step(0.5)\ns2.p._pan.set(s0.p.pan).subr(1).mtr(0.3,0.7)\ns2.e.set(z.bpm).gt(100).and(s0.e).and($even())\ns2.m.set(z.bpm).lt(100).or('0?1*16')","tmp-5":"let lo = $noise(40,60,1/3); \nlet hi = $noise(320,280,1/5);\nz.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\n\nlet static1 = s0\nlet noise1 = s1\nlet tones = s2\n\nstatic1.set({\n  inst: 1, \n  bank: 'gm.static', i: 2, begin:0, n:56, detune:0.1,\n  // bank: 'tune.06', i: 6, begin:0.1, n:48,\n  cut:static1.i,\n  a:0, d:10, r:100,\n  dfb:0.85,\n  lag:ms(1/4),\n  lc:0.2,\n})\n// static1.p.n.set(tones.p._n).sub(39)\nstatic1.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\nstatic1.p._fx0.set(z.bpm).mtr(0,$saw(0.5,1,1/24),lo,hi)\nstatic1.p._level.set(static1.p._fx0).subr(1)\nstatic1.p._hc.set(z.bpm).mtr(1,0,lo,hi)\nstatic1.p.dur.set(1/(z.q*2)).btms()\nstatic1.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\nstatic1.p.dist.saw(0,0.5,1/64)\nstatic1.e.every(1)\nstatic1.m.every(1)\n\nnoise1.set({inst:1,bank:'tune.02',dur:ms(32),cut:noise1.i,i:7,fx0:0.25})\nnoise1.p._rate.set(z.bpm).mtr(1,8,lo,hi)\nnoise1.p._hc.set(z.bpm).mtr(0.75,0.25,lo,hi)\nnoise1.p._pan.set(static1.p.pan).subr(1).mtr(0.2,0.8)\nnoise1.e.every(32)\nnoise1.m.set(1)\n\ntones.set({inst:0,\n  delay:.5, _dtime:ms(2), dcolour:0.25,\n  vol:.5,mods:0.1, dfb:0.25\n})\ntones.p._n\n  .set(z.bpm).mtr(0,16,lo,hi).step(1).add(1)\n  .set('83 Ador%16..*15')\ntones.p._fx0.set(z.bpm).mtr(0,$saw(0.5,1,1/24),lo,hi)\ntones.p._level.set(tones.p._fx0).subr(1)  \ntones.p.s.set(z.bpm).mtr(0.05,0.5,lo,hi)\ntones.p._modi.set(z.bpm).mtr(0.1,1,lo,hi)\ntones.p.dur.set(z.bpm).mtr(1/32,1/8,lo,hi).btms()\ntones.e.set(z.bpm).gt(100).if($every('1?2*16'), static1.e)\ntones.p._hc.set(z.bpm).mtr(0.5,1,lo,hi)\ntones.p.amp.set(z.bpm).mtr(0.25,1,lo,hi)\ntones.p._pan.set(static1.p.pan).subr(1).mtr(0.4,0.6)\ntones.m.not(tones.e)\n\nfx0.set({dfb:0.5,lc:0.3,_track:10,re:1,rtail:0.1,dtime:ms(1/100),dfb:0.85})\nfx0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\nfx0.e.set(1)\nfx0.m.set(1)","hw-0":"let lo = $noise(40,60,1/3); \nlet hi = $noise(320,280,1/5);\n// z.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\nz.bpm.cosine(hi,lo,1/4).step(1)\n\nlet static1 = s6\nlet noise1 = s7\nlet tones = s8\nlet vox = s9\n\nstatic1.set({\n  inst: 1, \n  bank: 'gm.static', i: 2, begin:0, n:56, detune:0.1,\n  // bank: 'tune.06', i: 6, begin:0.1, n:48,\n  cut:static1.i,\n  a:0, d:10, r:100,\n  dfb:0.85,\n  lag:ms(1/4),\n  lc:0.2,\n})\n// static1.p.n.set(tones.p._n).sub(39)\nstatic1.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\nstatic1.p._fx0.set(z.bpm).mtr(0,$saw(0.5,1,1/24),lo,hi)\nstatic1.p._level.set(static1.p._fx0).subr(1)\nstatic1.p._hc.set(z.bpm).mtr(1,0,lo,hi)\nstatic1.p.dur.set(1/(z.q*2)).btms()\nstatic1.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\nstatic1.p.dist.saw(0,0.5,1/64)\nstatic1.e.every(1)\nstatic1.m.every(1)\n\nnoise1.set({inst:1,bank:'tune.02',dur:ms(32),cut:noise1.i,i:7,fx0:0.25})\nnoise1.p._rate.set(z.bpm).mtr(1,8,lo,hi)\nnoise1.p._hc.set(z.bpm).mtr(0.75,0.25,lo,hi)\nnoise1.p._pan.set(static1.p.pan).subr(1).mtr(0.2,0.8)\nnoise1.e.every(32)\nnoise1.m.set(1)\n\ntones.set({inst:0,\n  delay:.5, _dtime:ms(2), dcolour:0.25,\n  vol:.5,mods:0.1, dfb:0.25\n})\ntones.p._n\n  .set(z.bpm).mtr(0,16,lo,hi).step(1).add(1)\n  .set('83 Ador%16..*15')\ntones.p._fx0.set(z.bpm).mtr(0,$saw(0.25,0.5,1/24),lo,hi)\ntones.p._level.set(tones.p._fx0).subr(1)  \ntones.p.s.set(z.bpm).mtr(0.05,0.5,lo,hi)\ntones.p._modi.set(z.bpm).mtr(0.1,1,lo,hi)\ntones.p.dur.set(z.bpm).mtr(1/32,1/8,lo,hi).btms()\ntones.e.set(z.bpm).gt(100).if($every('1?2*16'), static1.e)\ntones.p._hc.set(z.bpm).mtr(0.5,1,lo,hi)\ntones.p.amp.set(z.bpm).mtr(0.25,1,lo,hi)\ntones.p._pan.set(static1.p.pan).subr(1).mtr(0.4,0.6)\ntones.m.not(tones.e)\n\nvox.set({inst: 1, bank: 'vox.borges', \n  i: 3, dur:ms(34), lc:0.3, vol:0.5, re:0.5, lag:ms(1)\n})\nvox.p._rate.noise(0.75,1.25,1/4)\nvox.e.every(z.q*8)\nvox.m.set(1)\n\nfx0.set({dfb:0.5,lc:0.3,_track:10,re:0.25,rtail:0.1,rsize:0.25,dtime:ms(1/100),dfb:0.85,de:0.25})\nfx0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\nfx0.e.set(1)\nfx0.m.set(1)\n\nstatic1.mute.set(0)\nnoise1.mute.set(1)\ntones.mute.set(1)\nvox.mute.set(1)","hw-0.1":"let vox = s9\n\nvox.set({inst: 1, bank: 'vox.borges', \n  i: 2, dur:ms(34), lc:0.3, vol:0.5, re:0.5, lag:ms(1)\n})\nvox.p._rate.noise(0.75,1,1/4)\nvox.e.once()\nvox.m.set(1)","qi-0":"let lo = $noise(40,60,1/3); \nlet hi = $noise(320,280,1/5);\nz.bpm.sine(lo,hi,'0.25|*3 0.125|*5 0.5|*3').step(1)\n\nlet static1 = s6\nlet noise1 = s7\nlet tones = s8\nlet mf = 1\n\nstatic1.set({\n  inst: 1, \n  // rate:0.25,\n  bank: 'gm.static', i: 3, begin:0, n:32, detune:0.1,\n  // bank: 'tune.06', i: 6, begin:0.1, n:48,\n  cut:static1.i,\n  a:0, d:10, r:100,\n  dfb:0.85,\n  lag:ms(1/4),\n  lc:0.2,\n})\n// static1.p.n.set(tones.p._n).sub(39)\nstatic1.p.s.set(z.bpm).mtr(0.1,1,lo,hi)\nstatic1.p._fx0.set(z.bpm).mtr(0,$saw(0.5,1,1/24),lo,hi)\nstatic1.p._level.set(static1.p._fx0).subr(1)\nstatic1.p._hc.set(z.bpm).mtr(0,1,lo,hi).mul($cc(0,mf,0.5)).subr(1)\nstatic1.p.dur.set(1/(z.q*2)).btms()\nstatic1.p._vol.cc(0,mf,0.25).print()\nstatic1.p.pan.set(z.bpm)\n  .mtr(0,1,lo,hi)\n  .subr($c().mod(32).lt(16).if(1,0))\n  .abs()\nstatic1.p.dist.saw(0,0.5,1/64)\nstatic1.e.every(1)\nstatic1.m.every(1)\n\nnoise1.set({inst:1,bank:'tune.02',dur:ms(32),cut:noise1.i,i:9,fx0:0.25,n:36})\nnoise1.p._rate.set(z.bpm).mtr(1,8,lo,hi)\nnoise1.p._hc.set(z.bpm).mtr(0,1,lo,hi).mul($cc(0,mf,0.5)).subr(1)\nnoise1.p._vol.cc(0,mf,0.25).print()\nnoise1.p._pan.set(static1.p.pan).subr(1).mtr(0.2,0.8)\nnoise1.e.every(32)\nnoise1.m.set(1)\n\ntones.set({inst:0,\n  delay:.5, _dtime:ms(2), dcolour:0.25,\n  vol:.5,mods:0.1, dfb:0.25\n})\ntones.p._n\n  .set(z.bpm).mtr(0,16,lo,hi).step(1).add(1)\n  .set('83 Ador%16..*15')\ntones.p._fx0.set(z.bpm).mtr(0,$saw(0.5,1,1/24),lo,hi)\ntones.p._level.set(tones.p._fx0).subr(1)  \ntones.p.s.set(z.bpm).mtr(0.05,0.5,lo,hi)\ntones.p._modi.set(z.bpm).mtr(0.1,1,lo,hi)\ntones.p.dur.set(z.bpm).mtr(1/32,1/8,lo,hi).btms()\ntones.e.set(z.bpm).gt(100).if($every('1?2*16'), static1.e)\ntones.p._hc.set(z.bpm).mtr(0.5,1,lo,hi)\ntones.p.amp.set(z.bpm).mtr(0.25,1,lo,hi)\ntones.p._pan.set(static1.p.pan).subr(1).mtr(0.4,0.6)\ntones.m.not(tones.e)\n\nfx0.set({dfb:0.5,lc:0.3,_track:10,re:1,rtail:0.1,dtime:ms(1/100),dfb:0.85})\nfx0.p._dcolour.set(z.bpm).mtr(0.01,0.5,lo,hi)\nfx0.e.set(1)\nfx0.m.set(1)\n\nstatic1.mute.set(1)\nnoise1.mute.set(0)\ntones.mute.set(1)\n// tones.solo.set(1).degrade($saw(0,1,1/16))","qi-borges":"s0.set({inst: 1, bank: 'vox.borges', \n  i: 2, \n  dur:ms(34), \n  grainpan: 1,\n  grainslope: 1,\n  grainrate: 16, grainsize: 0.5,\n  lc:0.3,\n  vol:0.5,\n  re:0.5,\n  lag:ms(1)\n})\ns0.p._rate.random(0.8,1.2,1/4)\ns0.e.once()\ns0.m.set(1)","hc-preload":"[s0,s1,s2,s3,s4,s5,fx0,fx1].map(s => {\n  s.e.every(4)\n  s.set({vol:0.1})\n})\n\ns0.set({inst:2,bank:'breaks.hp?breaks.archn*16'})\ns1.set({inst:2,bank:'rumble',i:4,de:0.5,lc:0.5})\ns2.set({inst:6})\ns3.set({inst:0,midi:1,lc:0.5,cc1:0.5})\ns4.set({in:1,bank:'air'})\ns5.set({in:1,bank:'gm.static'})\nfx0.set({re:1, rsize:0.75, rdamp:0.5,_track:6})\nfx1.set({de:1, _track: 7})\n\ns7.set({inst: 1, bank: 'vox.babel', i: '0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15', _track: 8, dur:ms(34)})\ns7.e.every(1)\n","hw-preload":"z.set({dist:0.1})\n\n;[s0,s1,s2,s3,s5,s6,s7,s8,s9,fx0].map(s => {\n  s.set({inst:1,fx0:0.1})\n  s.e.every(4)\n  s.set({vol:0.1})\n})\n\ns0.set({hc: 0.1})\ns2.set({lc: 0.1})\n;[s3,s7,s8,s9].map(s => s.set({inst: '1 2', lc: 0.1}))\ns3.set\ns4.set({inst: 6})\ns6.set({bank: 'gm.static'})\ns8.set({inst: '0 1 2 1'})\ns9.set({bank: 'vox.borges', i: '0 1 2 3 4 5 6 7', lc:0.1})\ns9.e.reset().every(1)\n\nfx0.set({re:1, de:0.5, _track:10, lc: 0.1})","hw-end":"let vox = s9\n\nvox.set({inst: 1, bank: 'vox.borges', \n  i: 7, dur:ms(40), lc:0.3, vol:0.5, re:0.5, lag:ms(1)\n})\nvox.p._rate.saw(1,0.5,1/16)\nvox.e.once()\nvox.m.set(1)","hw-1.1":"let vox = s9\n\nvox.set({inst: 1, bank: 'vox.borges', \n  i: 8, dur:ms(34), lc:0.3, vol:0.5, re:0.5, lag:ms(1)\n})\nvox.p._rate.noise(0.75,1,1/4)\nvox.e.once()\nvox.m.set(1)","hw-2.1":"let vox = s9\n\nvox.set({inst: 1, bank: 'vox.borges', \n  i: 5, dur:ms(34), lc:0.3, vol:0.5, re:0.5, lag:ms(1)\n})\nvox.p._rate.noise(0.75,1,1/4)\nvox.e.once()\nvox.m.set(1)"}